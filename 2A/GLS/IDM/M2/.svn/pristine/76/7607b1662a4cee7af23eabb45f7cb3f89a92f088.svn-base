grammar game.Game with org.eclipse.xtext.common.Terminals

generate game "http://www.Game.game"
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Game returns Game:
	{Game}
	'Game'
	name=EString
	'{'
		('gameElements' '{' gameElements+=GameElement ( "," gameElements+=GameElement)* '}' )?
	'}';	
	

EntiteLieu returns EntiteLieu :
	'visible' visible=EBoolean
	('conditionVisibilité' (conditionVisibilite+=Condition)+)?
	Personne | Connaissance | Objet;
	
GameElement returns GameElement:
	EntiteLieu | Lieu  | Chemin | Condition | Interaction | Choix;

EString returns ecore::EString:
	STRING | ID;

EBoolean returns ecore::EBoolean:
	'true' | 'false';
	
Explorateur returns Explorateur :
	'explorateur' 
	name = EString
	'{' 
		'tailleInventaire' tailleInventaire=INT
		('connaissances' '(' (connaissances+=[Connaissance])+')')?
		('objets' '(' (objets+=[Objet])+')' )?
		'localisation' localisation=[Lieu]
	'}';
	
Personne returns Personne: 
	'personne'
	name=EString
	'{'
		interaction=Interaction
	'}';
	
Lieu returns Lieu :
	'lieu'
	name = Estring 
	'{'
		('cheminsPossibles' '(' (cheminsPossibles+=[Chemin])+)?
		(entiteLieu+=EntiteLieu)*
	'}';	


Objet returns Objet :
	'objet'
	name=EString
	'{'
		'taille' taille=INT
	'}'
;

Description returns Description :
	'description' 
	'{'
		'texte' texte=EString
		(conditions+=Condition)*
	'}';

Chemin

Connaissance

Condition

Interaction returns Interaction :
	'interaction'
	'{'
		('listeChoix' choix+=[Choix]*)
		('conditionFin' conditionFin+=[Condition]*)?
		('recompense' recompense+=[Recompense]*)
	'}';
	
Choix returns Choix : 
	'choix'
	name=EString
	'{'
		
	;

Recompense returns Recompense :
	Objet | Connaissance;
		
Action returns Action :
	name = EString
	'{'
	'condition' condition = Condition 
	('recompenses' '('(recompenses+=[Recompense])+ ')')?
	('consommations' '('(consommations+=[Objet])+ ')')?
	'}';
