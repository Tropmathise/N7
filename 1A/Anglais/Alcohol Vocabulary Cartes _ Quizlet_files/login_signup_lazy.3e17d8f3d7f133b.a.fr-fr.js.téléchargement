(window.QJP=window.QJP||[]).push([[75],{"13SJ":function(e,t,n){"use strict";t.a=function(e,t){return void 0===t&&(t=5e3),new Promise(function(n,a){var r=new Image,o=window.setTimeout(function(){a(new Error("Domain "+e+" timed out"))},t);r.onabort=function(){clearTimeout(o),a(new Error("Domain "+e+" aborted"))},r.onerror=function(){clearTimeout(o),a(new Error("Domain "+e+" errored"))},r.onload=function(){clearTimeout(o),n()},r.src=e+"/favicon.ico"})}},"78K5":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("q1tI"),r=n.n(a),o=n("DGXf"),i=n("PqcE"),s=n("bBvF").default;function l(e){var t=e.label,n=e.facebookLoginUrl,a=e.variant,s=e.onClick;return r.a.createElement(i.a,{icon:r.a.createElement(o.a,null),label:t,linkTo:n,onClick:s,variant:a})}l.defaultProps={label:s("fr-FR","Se connecter avec Facebook","userinfo_header.facebook_login_button")}},HLqC:function(e,t,n){var a=n("R5Y4"),r=n("mv/X"),o=n("ZCgT");e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&r(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),a(t,n,i,e)}}},J9WF:function(e,t,n){"use strict";n.r(t);var a,r=n("JPcv"),o=n("YDJX"),i=n("X890"),s=n("xhj2"),l=n("LkIj"),u=((a={})[i.a.CHANGE_INPUT]=function(e,t){var n=t.payload,a=n.name,r=n.value;return"checkbox"===n.type&&(r=n.checked),e.setIn(["form",a],r).setIn(["validationErrorsByInputName",a],null)},a[i.a.RESET_SUBMISSION]=function(e){return e.merge(Object(r.fromJS)({wasSubmitted:!1}))},a[i.a.SUBMIT_FORM]=function(e){var t;return e.merge(Object(r.fromJS)({wasSubmitted:!0,validationErrorsByInputName:(t={},t[i.c]=[],t)}))},a[i.a.SUBMIT_FORM_ASYNC__FAILURE]=function(e,t){var n=t.payload,a=Object(l.d)(e),o=n.reduce(function(e,t){return-1!==t.type.indexOf(i.d.USERNAME)?e.set(i.d.USERNAME,t.message):-1!==t.type.indexOf(i.d.PASSWORD)?e.set(i.d.PASSWORD,t.message):e.update(i.c,function(e){return e.push(t)})},a);return e.merge(Object(r.fromJS)({numFailedAttempts:e.get("numFailedAttempts")+1,validationErrorsByInputName:o}))},a);n.d(t,"default",function(){return p});var d=function(){var e,t;return Object(r.fromJS)({form:(e={},e[i.d.PASSWORD]="",e[i.d.USERNAME]="",e),numFailedAttempts:0,validationErrorsByInputName:(t={},t[i.c]=[],t),wasSubmitted:!1})};function p(){var e=Object(o.handleActions)(u,d());s.a.register({login:e})}},LkIj:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return u});var a=n("peh1"),r=n("X890"),o=function(e){return e.get("form")},i=function(e){return e.get("validationErrorsByInputName")},s=function(e){return e.get("validationErrorsByInputName").map(function(t,n){return!!t||(!1!==t||e.get("focusedInputName")!==n)&&null})},l=function(e){return e.get("wasSubmitted")},u=Object(a.createSelector)(i,function(e){return!(!e.get(r.c)||!e.get(r.c).count())})},Nxgj:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("TSYQ"),i=n.n(o),s=n("bvRJ");function l(e){var t=e.className;return r.a.createElement(s.a,{className:i()("GoogleIcon",t),icon:"google-multicolor"})}var u=n("PqcE");n.d(t,"a",function(){return p});var d=n("bBvF").default;function p(e){var t=e.label,n=e.googleLoginUrl,a=e.variant,o=e.onClick;return r.a.createElement(u.a,{icon:r.a.createElement(l,null),label:t,linkTo:n,onClick:o,variant:a})}p.defaultProps={label:d("fr-FR","Se connecter avec Google","userinfo_header.google_login_button")}},R5Y4:function(e,t){var n=Math.ceil,a=Math.max;e.exports=function(e,t,r,o){for(var i=-1,s=a(n((t-e)/(r||1)),0),l=Array(s);s--;)l[o?s:++i]=e,e+=r;return l}},TAwQ:function(e,t,n){"use strict";var a=n("pVnL"),r=n.n(a),o=n("VbXa"),i=n.n(o),s=n("q1tI"),l=n.n(s),u=n("KAy6"),d=n("og3H"),p=n("TtcH"),c=n("mEm4"),m=n("2GHK"),h=Object(c.a)("DATE_ORDERS",{DAY_MONTH_YEAR:null,MONTH_DAY_YEAR:null,YEAR_MONTH_DAY:null});var g=function(e){void 0===e&&(e=m.b);var t=new Date(2016,10,22).toLocaleDateString(e);return 0===t.indexOf("2016")?h.YEAR_MONTH_DAY:0===t.indexOf("22")?h.DAY_MONTH_YEAR:h.MONTH_DAY_YEAR}();var f=n("EFuM"),E=n("t1Ez"),v=n("Pxp3"),_=n("Ahwr"),I=n("8DN3"),b=n("xqF0"),S=n("vzun"),R=n("jvKz"),O=n("OpqZ"),N=n("S41V"),T=n("TSYQ"),y=n.n(T),F=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleInputChange=function(e){n.props.onChange&&n.props.onChange(e)},n.state={invalid:t.invalid||!1},n}i()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.setState({invalid:e.invalid})},n.render=function(){var e=y()("SignupDropdown",{"is-selected":this.props.value!==this.props.defaultValue});return l.a.createElement(N.a,{mobileWidth:this.props.width,width:this.props.width},l.a.createElement("div",{className:e},l.a.createElement(_.a,{invalid:this.state.invalid,name:this.props.name,onChange:this.handleInputChange,value:this.props.value},this.props.children)))},t}(s.Component);F.defaultProps={defaultValue:"-1",width:1};var C=n("WjpJ"),B=n.n(C),A=n("bBvF").default,U=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).generateDaysList=function(){var e=B()(1,32).map(function(e){return l.a.createElement("option",{key:e,value:e},e)});return e.unshift(l.a.createElement("option",{key:-1,value:-1},A("fr-FR","Jour","global.sign_up_modal.labels.day"))),e},t.generateMonthsList=function(){var e=B()(12).map(function(e){return l.a.createElement("option",{key:e+1,value:e+1},new Date(2016,e,5).toLocaleDateString(m.b,{month:"long"}))});return e.unshift(l.a.createElement("option",{key:-1,value:-1},A("fr-FR","Mois","global.sign_up_modal.labels.month"))),e},t.generateYearsList=function(){var e=(new Date).getFullYear(),t=B()(e,e-130,-1).map(function(e){return l.a.createElement("option",{key:e},e)});return t.unshift(l.a.createElement("option",{key:-1,value:-1},A("fr-FR","Année","global.sign_up_modal.labels.year"))),t},t}i()(t,e);var n=t.prototype;return n.render=function(){var e,t,n,a,r=this.generateMonthsList(),o=this.generateDaysList(),i=this.generateYearsList();switch("underline"===this.props.variant?(e=l.a.createElement(F,{defaultValue:"-1",invalid:this.props.yearInputInvalid,key:this.props.yearInputName,name:this.props.yearInputName,onChange:this.props.yearInputOnChange,value:this.props.yearInputValue,width:1/3},i),t=l.a.createElement(F,{defaultValue:"-1",invalid:this.props.monthInputInvalid,key:this.props.monthInputName,name:this.props.monthInputName,onChange:this.props.monthInputOnChange,value:this.props.monthInputValue,width:1/3},r),n=l.a.createElement(F,{defaultValue:"-1",invalid:this.props.dayInputInvalid,key:this.props.dayInputName,name:this.props.dayInputName,onChange:this.props.dayInputOnChange,value:this.props.dayInputValue,width:1/3},o)):(e=l.a.createElement(_.a,{invalid:this.props.yearInputInvalid,key:this.props.yearInputName,name:this.props.yearInputName,onChange:this.props.yearInputOnChange,value:this.props.yearInputValue,variant:this.props.variant},i),t=l.a.createElement(_.a,{invalid:this.props.monthInputInvalid,key:this.props.monthInputName,name:this.props.monthInputName,onChange:this.props.monthInputOnChange,value:this.props.monthInputValue,variant:this.props.variant},r),n=l.a.createElement(_.a,{invalid:this.props.dayInputInvalid,key:this.props.dayInputName,name:this.props.dayInputName,onChange:this.props.dayInputOnChange,value:this.props.dayInputValue,variant:this.props.variant},o)),g){case h.DAY_MONTH_YEAR:a=[n,t,e];break;case h.MONTH_DAY_YEAR:a=[t,n,e];break;case h.YEAR_MONTH_DAY:default:a=[e,t,n]}var s=l.a.createElement(S.a,null,l.a.createElement(E.a,{_precomputed:A("fr-FR","Quizlet s'adresse à <em>tous les âges</em> mais demande à tous ses utilisateurs de fournir leur date de naissance réelle pour satisfaire à la législation locale.",{},"global.sign_up_modal.birthday_law_info")})),u="underline"===this.props.variant?l.a.createElement(O.a,null,a):a,d=this.shouldRenderLegendAbove()?this.props.label:null,p=this.shouldRenderLegendBelow()?this.props.label:null,c=y()("BirthDateDropdownGroup",{"BirthDateDropdownGroup--underline":"underline"===this.props.variant});return l.a.createElement(v.a,{className:c},l.a.createElement(I.a,{invalid:this.props.dayInputInvalid||this.props.monthInputInvalid||this.props.yearInputInvalid,legend:d,legendBelow:p,turnLegendIntoLabel:!0},u,"boxed"===this.props.variant?l.a.createElement("div",{className:"BirthDateDropdownGroup-helpWrap"},l.a.createElement(R.a,{overlay:s,position:"right",triggerAction:Object(f.j)()?"click":"hover"},l.a.createElement(b.a,{icon:"question",variant:"basic"}))):null))},n.shouldRenderLegendAbove=function(){return"boxed"===this.props.variant},n.shouldRenderLegendBelow=function(){return"underline"===this.props.variant},t}(l.a.PureComponent);U.defaultProps={variant:"boxed"};var k=n("E/Xc"),D=n("a08m"),L=n("ZlgO"),P=n("fkqS"),V=n("DLQF"),w=n("T3U7"),M=n("fdo3"),H=n("bBuN"),j=function(e,t,n){var a=new Date(e,t,n);return e===a.getFullYear()&&t===a.getMonth()&&n===a.getDate()},Y=n("Ri2w");var x=n("9WHe"),q=n("zK28");var W=n("PqR9"),z=n("QLaP"),G=n.n(z),Q=n("sEfC"),J=n.n(Q),X=n("vlgG"),K=n("KD7m");var Z=n("bvRJ"),$=n("bBvF").default,ee=500,te=l.a.createElement(Z.a,{icon:"check"}),ne=l.a.createElement(Z.a,{icon:"person"}),ae=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleInputChange=function(e){var t=e.currentTarget.value;t=Object(K.a)(t),n.setState({suggestions:null,value:t},function(){n.validateUsernameDebounced()}),n.props.onChange&&n.props.onChange(e)},n.handleInputBlur=function(e){n.props.onBlur&&n.props.onBlur(e)},n.handleInputFocus=function(e){n.props.onFocus&&n.props.onFocus(e)},n.handleClickUsernameSuggestion=function(e){Object(w.a)("signup_form_username_suggestion_clicked"),n.setState({value:e},function(){n.props.onClickSuggestedUsername&&n.props.onClickSuggestedUsername(e),n.validateUsername()})},n.handleValidationError=function(e){n.props.onValidationError&&n.props.onValidationError(e)},n.validateUsername=function(e){void 0===e&&(e=!1);var t=e?n.props.lookupValue:n.state.value;if(n.setState({validationError:null,suggestions:null}),n.isUsernameEmpty(t))return n.handleValidationError({field:n.props.name,message:null});G()(t,"Missing username after check isUsernameEmpty"),function(e){var t=e.username,n=e.shouldAutoGenerateUsernames;return Object(Y.e)("/webapi/3.2/users/check-username",{username:t,shouldAutoGenerateUsernames:n})}({username:t,shouldAutoGenerateUsernames:e}).then(function(t){var a=t.data,r=t.error,o=null;r&&(o=r.message,Object(w.a)("signup_form_error",{error:"username_error"})),a&&a.checkUsername&&(e?a.checkUsername.suggestions&&a.checkUsername.suggestions.length&&n.setState({suggestions:a.checkUsername.suggestions}):a.checkUsername.success?(o=!1,Object(w.a)("signup_form_success_username")):a.checkUsername.suggestions.length&&(o=$("fr-FR","Ce nom d'utilisateur n'est pas disponible. Voici quelques suggestions :","signup_validator.username_taken"),n.setState({autoGenerateSuggestedUsernames:!1,suggestions:a.checkUsername.suggestions}))),n.setState({validationError:o}),n.handleValidationError({field:n.props.name,message:o})})},n.validateUsernameDebounced=J()(n.validateUsername,ee),n.state={autoGenerateSuggestedUsernames:t.autoGenerateSuggestedUsernames||!1,value:t.value||"",validationError:null,suggestions:null},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){!this.props.autoGenerateSuggestedUsernames||this.props.forOauth||this.props.isUnderage||""!==this.state.value||this.validateUsername(this.props.autoGenerateSuggestedUsernames)},n.componentWillReceiveProps=function(e){var t=this;e.value!==this.props.value&&e.autoPopulateSuggestedUsername&&this.setState({value:e.value},function(){t.validateUsername()})},n.renderAddOnContent=function(){return this.props.showDefaultIcon?ne:!1===this.state.validationError?te:null},n.renderUsername=function(){var e=y()("UsernameField",{"is-populated":!this.isUsernameEmpty(this.state.value)});return l.a.createElement(v.a,{className:e},l.a.createElement(X.a,{addOnContent:this.renderAddOnContent(),invalid:this.props.invalid,label:this.props.label,name:this.props.name,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,placeholder:this.props.placeholder,value:this.state.value,variant:this.props.variant}))},n.renderSuggestions=function(){var e=this;return l.a.createElement("div",{className:"UsernameField-suggestions"},this.state.autoGenerateSuggestedUsernames&&this.state.suggestions?l.a.createElement("div",{className:"UsernameField-label"},l.a.createElement(E.a,{_precomputed:$("fr-FR","{numSuggestedUsernames, plural, one {Disponible :} other {Disponibles :}}",{numSuggestedUsernames:this.state.suggestions.length},"global.sign_up_modal.available_username_label")})):null,this.state.suggestions?this.state.suggestions.map(function(t){return l.a.createElement("div",{className:"UsernameField-suggestion",key:t},l.a.createElement(D.a,{onClick:e.handleClickUsernameSuggestion.bind(e,t)},t))}):null)},n.render=function(){return l.a.createElement("div",{className:"UsernameField"},this.renderUsername(),this.state.suggestions?this.renderSuggestions():null)},n.isUsernameEmpty=function(e){return!e||""===e},t}(s.Component);ae.defaultProps={autoGenerateSuggestedUsernames:!1,autoPopulateSuggestedUsername:!1,lookupValue:"",showDefaultIcon:!1};var re=n("W6SY"),oe=500,ie=l.a.createElement(Z.a,{icon:"check"}),se=l.a.createElement(Z.a,{icon:"lock"}),le=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleInputChange=function(e){var t=e.currentTarget.value;n.setState({value:t},function(){n.validatePasswordDebounced()}),n.props.onChange&&n.props.onChange(e)},n.handleInputBlur=function(e){n.props.onBlur&&n.props.onBlur(e)},n.handleInputFocus=function(e){n.props.onFocus&&n.props.onFocus(e)},n.handleValidationError=function(e){n.props.onValidationError&&n.props.onValidationError(e)},n.validatePassword=function(e){void 0===e&&(e=n.props);var t=n.state.value;if(n.setState({validationError:null}),n.isPasswordEmpty(t)||e.dependency&&!1!==e.dependency.invalid)return n.handleValidationError({field:e.name,message:null});(function(e){var t=e.username,n=e.password;return Object(Y.f)("/users/check-password",{username:t,password:n})})({username:e.dependency&&e.dependency.value,password:t}).then(function(t){var a=null;t.success?(a=!1,Object(w.a)("signup_form_success_password")):(a=t.error,Object(w.a)("signup_form_error",{error:"bad_password"})),n.setState({validationError:a}),n.handleValidationError({field:e.name,message:a})})},n.validatePasswordDebounced=J()(n.validatePassword,oe),n.state={value:"",validationError:null},n}i()(t,e);var n=t.prototype;return n.componentWillUpdate=function(e){e.dependency&&this.props.dependency&&!this.getIsEqual(e.dependency.invalid,this.props.dependency.invalid)&&this.validatePassword(e)},n.getIsEqual=function(e,t){return"object"==typeof e&&"object"==typeof t?Object(re.a)(e,t):e===t},n.renderAddOnContent=function(){return this.props.showDefaultIcon?se:!1===this.state.validationError?ie:null},n.render=function(){var e=y()("PasswordField",{"is-populated":!this.isPasswordEmpty(this.props.value)});return l.a.createElement(v.a,{className:e},l.a.createElement(X.a,{addOnContent:this.renderAddOnContent(),invalid:this.props.invalid,key:this.props.name,label:this.props.label,name:this.props.name,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,placeholder:this.props.placeholder,type:"password",value:this.props.value,variant:this.props.variant}))},n.isPasswordEmpty=function(e){return!e||""===e},t}(s.Component);le.defaultProps={showDefaultIcon:!1};var ue=n("aniC"),de=n("shtt"),pe=n("bBvF").default,ce=l.a.createElement(Z.a,{icon:"check"}),me=l.a.createElement(Z.a,{icon:"mail"}),he=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleInputChange=function(e){var t=e.currentTarget.value;t=Object(K.a)(t),n.setState({value:t}),n.props.onChange&&n.props.onChange(e)},n.handleInputBlur=function(e){n.validateEmail(),n.props.onBlur&&n.props.onBlur(e)},n.handleInputFocus=function(e){n.props.onFocus&&n.props.onFocus(e)},n.handleValidationError=function(e){n.props.onValidationError&&n.props.onValidationError(e)},n.validateEmail=function(){var e=n.state.value;if(n.setState({validationError:null}),n.isEmailEmpty(e))return n.handleValidationError({field:n.props.name,message:null});ue.a.validate(e).then(function(e){var t=null;e&&(e.didYouMean?t=pe("fr-FR","S'agit-il peut-être de {emailAddress} ?",{emailAddress:Object(de.a)(e.didYouMean)},"signup_validator.potential_email_typo"):e.isValid?(t=!1,Object(w.a)("signup_form_success_email")):(t=pe("fr-FR","Adresse e-mail non valide","signup_validator.invalid_email"),Object(w.a)("signup_form_error",{error:"invalid_email"}))),n.setState({validationError:t}),n.handleValidationError({field:n.props.name,message:t})})},n.state={value:"",validationError:null},n}i()(t,e);var n=t.prototype;return n.renderAddOnContent=function(){return this.props.showDefaultIcon?me:!1===this.state.validationError?ce:null},n.render=function(){var e=y()("EmailField",{"is-populated":!this.isEmailEmpty(this.props.value)});return l.a.createElement(v.a,{className:e},l.a.createElement(X.a,{addOnContent:this.renderAddOnContent(),invalid:this.props.invalid,label:this.props.label,name:this.props.name,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,placeholder:this.props.placeholder,ref:this.props.inputRef,type:"email",value:this.props.value,variant:this.props.variant}))},n.isEmailEmpty=function(e){return!e||""===e},t}(s.Component);he.defaultProps={showDefaultIcon:!1};var ge=n("Vd5f"),fe=n("rfz2"),Ee=n("ysfV"),ve=n("bBvF").default,_e=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleInputChange=function(e){var n=e.currentTarget.checked;t.validateTOS(n),t.props.onChange&&t.props.onChange(e)},t.handleInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e)},t.handleInputBlur=function(e){t.props.onBlur&&t.props.onBlur(e)},t.handleValidationError=function(e){t.props.onValidationError&&t.props.onValidationError(e)},t.validateTOS=function(e){if(!e)return t.handleValidationError({field:t.props.name,message:ve("fr-FR","AFIN DE CONTINUER, VEUILLEZ ACCEPTER LES CONDITIONS D'UTILISATION ET LA POLITIQUE DE CONFIDENTIALITÉ DE QUIZLET.","signup_validator.tos_required")});Object(w.a)("signup_form_success_tos"),t.handleValidationError({field:t.props.name,message:!1})},t}i()(t,e);var n=t.prototype;return n.getTOSLink=function(){var e=ve("fr-FR","Conditions d'utilisation","global.sign_up_modal.policy_agreement_tos_link");return Object(Ee.a)(l.a.createElement(D.a,{newTab:!0,title:ve("fr-FR","Ouvrir les Conditions d'utilisation dans une nouvelle fenêtre","global.sign_up_modal.policy_agreement_tos_popout_description"),to:"/tos"},l.a.createElement(fe.a,{component:"span",dangerouslySetInnerHTML:{__html:e}})))},n.getPrivacyPolicyLink=function(){return Object(Ee.a)(l.a.createElement(D.a,{newTab:!0,title:ve("fr-FR","Ouvrir la Politique de confidentialité dans une nouvelle fenêtre","global.sign_up_modal.policy_agreement_privacy_policy_popout_description"),to:"/privacy"},l.a.createElement(E.a,{_precomputed:ve("fr-FR","Politique de confidentialité",{},"global.sign_up_modal.policy_agreement_privacy_policy_link")})))},n.renderPrecheckedTOS=function(){return Object(f.j)()?l.a.createElement(E.a,{_precomputed:ve("fr-FR","En sélectionnant S'inscrire, vous acceptez les {tosLink} et la {privacyPolicyLink} de Quizlet.",{privacyPolicyLink:this.getPrivacyPolicyLink(),tosLink:this.getTOSLink()},"global.sign_up_modal.policy_agreement_mobile_cta")}):l.a.createElement(E.a,{_precomputed:ve("fr-FR","En sélectionnant S'inscrire, vous acceptez les {tosLink} et la {privacyPolicyLink} de Quizlet.",{privacyPolicyLink:this.getPrivacyPolicyLink(),tosLink:this.getTOSLink()},"global.sign_up_modal.policy_agreement_desktop_cta")})},n.renderTOSCheckbox=function(){var e=l.a.createElement(E.a,{_precomputed:ve("fr-FR","J'accepte les {tosLink} et la {privacyPolicyLink} de Quizlet ",{privacyPolicyLink:this.getPrivacyPolicyLink(),tosLink:this.getTOSLink()},"global.sign_up_modal.policy_agreement")});return l.a.createElement(ge.a,{checked:this.props.checked,invalid:this.props.invalid,label:e,name:this.props.name,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus})},n.render=function(){var e=y()("TosCheckbox",{"is-invalid":this.props.invalid,"is-prechecked":!this.shouldValidateTOS()});return l.a.createElement(v.a,{className:e},this.shouldValidateTOS()?this.renderTOSCheckbox():this.renderPrecheckedTOS())},n.shouldValidateTOS=function(){return"us"!==q.a.countryCode},t}(s.Component),Ie=n("bBvF").default,be=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleInputBlur=function(e){n.props.onBlur&&n.props.onBlur(e)},n.handleInputChange=function(e){var t=e.currentTarget.checked?""+d.fb.TEACHER:""+d.fb.UNKNOWN;n.setState({value:t},function(){n.validateSelfIdentifiedUserType()}),n.props.onChange&&n.props.onChange(e)},n.handleInputFocus=function(e){n.props.onFocus&&n.props.onFocus(e)},n.handleValidationError=function(e){n.props.onValidationError&&n.props.onValidationError(e)},n.validateSelfIdentifiedUserType=function(){if(n.state.value!==""+d.fb.TEACHER&&n.state.value!==""+d.fb.STUDENT)return n.handleValidationError({field:n.props.name,message:null});Object(w.a)("signup_form_success_is_teacher"),n.handleValidationError({field:n.props.name,message:!1})},n.state={value:t.value||""+d.fb.TEACHER},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.validateSelfIdentifiedUserType()},n.render=function(){return l.a.createElement(v.a,null,l.a.createElement(ge.a,{checked:this.props.checked,label:Ie("fr-FR","Je suis un enseignant","global.sign_up_modal.i_am_a_teacher"),name:this.props.name,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,value:this.state.value}))},t}(s.Component),Se=n("xNal");n.d(t,"a",function(){return Ue});var Re=n("bBvF").default,Oe="generic",Ne="birthDay",Te="birthMonth",ye="birthYear",Fe="-1",Ce={BIRTH_DAY:"birth_day",BIRTH_MONTH:"birth_month",BIRTH_YEAR:"birth_year",EMAIL:"email",PASSWORD:"password1",SELF_IDENTIFIED_USER_TYPE:"is_free_teacher",TERMS_OF_SERVICE:"TOS",USERNAME:"username"},Be={NO_REDIRECT_TO_UPSELL:["checkout-modal","partner-login-prompt-banner","purchasable-content-folder-signup-modal","purchasable-content-sets-signup-modal"]},Ae=1/24/60,Ue=function(e){function t(t){var n,a,o;return(o=e.call(this,t)||this).handleValidationErrors=function(e,t){var n=e.reduce(function(e,t){return t.field?(t.field===Ce.TERMS_OF_SERVICE&&t.message&&e[Oe].unshift(t),t.field===Ne?(e[Ce.BIRTH_DAY]=t.message,e[Oe].push(t)):t.field===Te?(e[Ce.BIRTH_MONTH]=t.message,e[Oe].push(t)):t.field===ye?(e[Ce.BIRTH_YEAR]=t.message,e[Oe].push(t)):e[t.field]=t.message):e[Oe].push(t),e},t);o.setState({validationErrorsByInputName:n})},o.handleNoFieldError=function(e){return o.handleValidationError({field:null,message:e})},o.handleGenericError=function(){return o.handleNoFieldError(l.a.createElement(E.a,{_precomputed:Re("fr-FR","Oups ! Quelque chose a mal tourné. Veuillez réessayer.",{emoji:"😅"},"global.sign_up_modal.validation.general_error")}))},o.handleSubmitResponse=function(e){try{if(e.error){switch(e.error.identifier){case"invalid_oauth_data":case"exception_client_cookies_broken":o.handleNoFieldError(l.a.createElement(E.a,{_precomputed:Re("fr-FR","Les cookies ne sont pas activés dans votre navigateur {emoji}. Veuillez autoriser votre navigateur à accepter les cookies puis actualisez cette page pour vous connecter. {link}.",{emoji:"🍪",link:o.renderLearnMoreAboutCookiesLink()},"global.sign_up_modal.validation.cookies_disabled")}));break;case"another_oauth_id_already_associated":o.handleNoFieldError(l.a.createElement(E.a,{_precomputed:Re("fr-FR","Il semble que cette adresse e-mail soit déjà associée à un compte {emoji}. Veuillez utiliser une autre adresse e-mail ou {link}.",{emoji:"🤔",link:o.renderLoginLink()},"global.sign_up_modal.validation.email_already_associated")}));break;default:o.handleGenericError()}return void o.setState({isSubmitting:!1})}var t=e.responses[0];t.error&&"validation_errors"===t.error.identifier?(o.handleValidationErrors(e.responses[0].validationErrors,o.state.validationErrorsByInputName),o.setState({isSubmitting:!1})):o.shouldNotRedirectToUpsell()?(o.props.signupMetadata&&Se.c.write(o.props.signupOrigin,JSON.stringify(o.props.signupMetadata),{duration:Ae,secure:!0}),Object(M.a)(o.props.redir||window.location.href)):t.data&&t.data.authentication.redirect&&Object(M.a)(t.data.authentication.redirect)}catch(n){x.a.info("Failed signup/oauth POST inner",{error:n,data:e}),o.setState({isSubmitting:!1}),o.handleGenericError()}},o.handleSubmit=function(e){e.preventDefault();var t=o.state.validationErrorsByInputName;t[Oe]=[],o.setState({validationErrorsByInputName:t,isSubmitting:!0});var n,a,r=o.state.form;(o.shouldRenderTOS()&&o.shouldValidateTOS()&&!r[Ce.TERMS_OF_SERVICE]&&o.handleValidationError({field:Ce.TERMS_OF_SERVICE,message:l.a.createElement(E.a,{_precomputed:Re("fr-FR","AFIN DE CONTINUER, VEUILLEZ ACCEPTER LES CONDITIONS D'UTILISATION ET LA POLITIQUE DE CONFIDENTIALITÉ DE QUIZLET.",{},"signup_validator.tos_required")})}),o.shouldRenderSelfIdentifiedUserType()&&r[Ce.SELF_IDENTIFIED_USER_TYPE]===""+d.fb.UNKNOWN)&&Object.assign(r,((n={})[Ce.SELF_IDENTIFIED_USER_TYPE]=""+d.fb.STUDENT,n));o.getIsFormComplete()&&!o.props.forOauth&&o.getValidationErrorForInput(Ce.TERMS_OF_SERVICE)||(o.props.forOauth?(a=r,Object(Y.f)("/webapi/3.2/oauth-extra-info",a)):function(e){return Object(Y.f)("/webapi/3.2/direct-signup",e)}(r)).then(o.handleSubmitResponse).catch(function(e){x.a.info("Failed signup/oauth POST",{forOauth:o.props.forOauth,error:e}),o.setState({isSubmitting:!1}),o.handleGenericError()})},o.handleInputFocus=function(e){o.setState({focusedInputName:e.currentTarget.name})},o.handleInputBlur=function(){o.setState({focusedInputName:null})},o.handleSelectChange=function(e){var t,n,a=e.currentTarget,i=a.name,s=a.value,l=r()({},o.state.form,((t={})[i]=s,t)),u=r()({},o.state.validationErrorsByInputName,((n={})[i]=null,n));o.setState({form:l,validationErrorsByInputName:u},function(){switch(i){case Ce.BIRTH_YEAR:case Ce.BIRTH_MONTH:case Ce.BIRTH_DAY:o.validateBirthDate(),o.resetSelfIdentifiedUserTypeIfAgeIsOutsideOfRange(),s===Fe&&o.showBirthdateInputsContextualErrorsIfNeeded()}})},o.handleInputChange=function(e){var t,n,a=e.currentTarget.name,i=e.currentTarget.value;"checkbox"===e.currentTarget.type&&(a===Ce.TERMS_OF_SERVICE?i=e.currentTarget.checked:a===Ce.SELF_IDENTIFIED_USER_TYPE&&(i=e.currentTarget.checked?""+d.fb.TEACHER:""+d.fb.UNKNOWN));var s=r()({},o.state.form,((t={})[a]=i,t)),l=r()({},o.state.validationErrorsByInputName,((n={})[a]=null,n));o.setState({form:s,validationErrorsByInputName:l},function(){switch(a){case Ce.USERNAME:case Ce.EMAIL:case Ce.PASSWORD:case Ce.SELF_IDENTIFIED_USER_TYPE:case Ce.TERMS_OF_SERVICE:o.showBirthdateInputsContextualErrorsIfNeeded()}})},o.handleValidationError=function(e){o.handleValidationErrors([e],o.state.validationErrorsByInputName)},o.handleClickUsernameSuggestion=function(e){var t=r()({},o.state.form,{username:e});o.setState({form:t}),o.emailInputRef&&o.emailInputRef.focus()},o.renderLearnMoreAboutCookiesLink=function(){return Object(u.renderToStaticMarkup)(l.a.createElement(D.a,{newTab:!0,to:"/cookies"},l.a.createElement(E.a,{_precomputed:Re("fr-FR","En savoir plus sur les cookies",{},"global.sign_up_modal.validation.cookies_disabled_link")})))},o.renderLoginLink=function(){return Object(u.renderToStaticMarkup)(l.a.createElement(D.a,{newTab:!0,to:"/login"},l.a.createElement(E.a,{_precomputed:Re("fr-FR","connectez-vous",{},"global.sign_up_modal.validation.email_already_associated_link")})))},o.validateBirthDate=function(){var e=o.getAge(),t=o.getIsUnderage(),n=e!==1/0;if(t){var a,i=r()({},o.state.form,((a={})[Ce.EMAIL]="",a));o.setState({form:i})}if(o.props.forOauth&&n&&!t&&""===o.state.form[Ce.USERNAME]){var s,l=r()({},o.state.form,((s={})[Ce.USERNAME]=o.props.suggestedUsername,s));o.setState({form:l})}n&&(Object(w.a)("signup_form_success_birthday"),o.handleValidationError({field:Ce.BIRTH_YEAR,message:!1}),o.handleValidationError({field:Ce.BIRTH_MONTH,message:!1}),o.handleValidationError({field:Ce.BIRTH_DAY,message:!1}),o.showBirthdateInputsContextualErrorsIfDateIsInvalid())},o.showBirthdateInputsContextualErrorsIfNeeded=function(){o.state.form[Ce.BIRTH_DAY]===Fe&&o.handleValidationError({field:Ce.BIRTH_DAY,message:Re("fr-FR","Veuillez indiquer votre date de naissance","errors.model_validation.user.requires_birthday")}),o.state.form[Ce.BIRTH_MONTH]===Fe&&o.handleValidationError({field:Ce.BIRTH_MONTH,message:Re("fr-FR","Veuillez indiquer votre date de naissance","errors.model_validation.user.requires_birthday")}),o.state.form[Ce.BIRTH_YEAR]===Fe&&o.handleValidationError({field:Ce.BIRTH_YEAR,message:Re("fr-FR","Veuillez indiquer votre date de naissance","errors.model_validation.user.requires_birthday")})},o.showBirthdateInputsContextualErrorsIfDateIsInvalid=function(){var e=parseInt(o.state.form[Ce.BIRTH_DAY],10),t=parseInt(o.state.form[Ce.BIRTH_MONTH],10)-1,n=parseInt(o.state.form[Ce.BIRTH_YEAR],10);(!j(n,t,e)||o.getAge()<0)&&o.handleValidationErrors([{field:Ce.BIRTH_DAY,message:Re("fr-FR","Veuillez saisir une date valide","errors.model_validation.user.invalid_birth_date")},{field:Ce.BIRTH_MONTH,message:Re("fr-FR","Veuillez saisir une date valide","errors.model_validation.user.invalid_birth_date")},{field:Ce.BIRTH_YEAR,message:Re("fr-FR","Veuillez saisir une date valide","errors.model_validation.user.invalid_birth_date")}],o.state.validationErrorsByInputName)},o.state={focusedInputName:"",isSubmitting:!1,form:(n={couponCode:t.couponCode},n[Ce.TERMS_OF_SERVICE]=!1,n[Ce.BIRTH_DAY]=t.birthDay||Fe,n[Ce.BIRTH_MONTH]=t.birthMonth||Fe,n[Ce.BIRTH_YEAR]=t.birthYear||Fe,n.data=t.data,n[Ce.EMAIL]=t.email||"",n[Ce.SELF_IDENTIFIED_USER_TYPE]=t.selfIdentifiedTeacherStatus||""+d.fb.UNKNOWN,n[Ce.PASSWORD]="",n.redir=t.redir,n.signupOrigin=t.signupOrigin,n.screenName=t.screenName,n[Ce.USERNAME]="",n),validationErrorsByInputName:(a={},a[Oe]=[],a)},o}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.validateBirthDate()},n.getValidationErrorForInput=function(e){return this.state.validationErrorsByInputName[e]},n.getInvalidStateForInput=function(e){var t=this.state.validationErrorsByInputName[e];return!!t||(!1!==t||this.state.focusedInputName!==e)&&void 0},n.getAge=function(){return Object(H.a)(parseInt(this.state.form[Ce.BIRTH_YEAR],10),parseInt(this.state.form[Ce.BIRTH_MONTH],10),parseInt(this.state.form[Ce.BIRTH_DAY],10))},n.getDependentField=function(e){return{name:e,value:this.state.form[e],invalid:this.getValidationErrorForInput(e)}},n.getIsUnderage=function(){return this.getAge()<q.a.underAgeCutoff},n.getRequiredFields=function(){var e=[Ce.BIRTH_DAY,Ce.BIRTH_MONTH,Ce.BIRTH_YEAR,Ce.USERNAME];return this.props.forOauth&&this.getIsUnderage()?e.push(Ce.EMAIL):this.props.forOauth||(e.push(Ce.EMAIL),e.push(Ce.PASSWORD)),e},n.getIsFormComplete=function(){var e=this;return this.getRequiredFields().every(function(t){return!1===e.state.validationErrorsByInputName[t]})},n.renderValidationErrors=function(){var e=Object(W.a)(this.state.validationErrorsByInputName[Oe].map(function(e){return e.message}));return l.a.createElement(V.a,{boxed:!0,uppercaseDeprecated:!0,variant:"alert"},l.a.createElement(L.a,null,e.map(function(e,t){return l.a.createElement(P.a,{key:t},e)})))},n.renderBirthday=function(){var e=l.a.createElement(E.a,{_precomputed:Re("fr-FR","Date de naissance",{},"global.sign_up_modal.birthday_label")}),t=this.state.validationErrorsByInputName[Ce.BIRTH_DAY]||this.state.validationErrorsByInputName[Ce.BIRTH_MONTH]||this.state.validationErrorsByInputName[Ce.BIRTH_YEAR]||e;return l.a.createElement(U,{dayInputInvalid:this.getInvalidStateForInput(Ce.BIRTH_DAY),dayInputName:Ce.BIRTH_DAY,dayInputOnChange:this.handleSelectChange,dayInputValue:this.state.form[Ce.BIRTH_DAY],label:t,monthInputInvalid:this.getInvalidStateForInput(Ce.BIRTH_MONTH),monthInputName:Ce.BIRTH_MONTH,monthInputOnChange:this.handleSelectChange,monthInputValue:this.state.form[Ce.BIRTH_MONTH],yearInputInvalid:this.getInvalidStateForInput(Ce.BIRTH_YEAR),yearInputName:Ce.BIRTH_YEAR,yearInputOnChange:this.handleSelectChange,yearInputValue:this.state.form[Ce.BIRTH_YEAR]})},n.renderUsername=function(){var e=this.state.validationErrorsByInputName[Ce.USERNAME]||l.a.createElement(E.a,{_precomputed:Re("fr-FR","Nom d'utilisateur",{},"global.sign_up_modal.labels.username")});return l.a.createElement(ae,{autoPopulateSuggestedUsername:this.props.forOauth,forOauth:this.props.forOauth,invalid:this.getInvalidStateForInput(Ce.USERNAME),label:e,name:Ce.USERNAME,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onClickSuggestedUsername:this.handleClickUsernameSuggestion,onFocus:this.handleInputFocus,onValidationError:this.handleValidationError,placeholder:this.shouldRenderRealNameWarning()?Re("fr-FR","N'utilisez pas votre vrai nom !","global.sign_up_modal.validation.no_real_name"):Re("fr-FR","andrew123","global.sign_up_modal.placeholder_username"),value:this.state.form[Ce.USERNAME],variant:"boxed"})},n.renderEmail=function(){var e=this,t=this.state.validationErrorsByInputName[Ce.EMAIL];return t||(t=this.getIsUnderage()?l.a.createElement(E.a,{_precomputed:Re("fr-FR","Adresse e-mail d'un parent",{},"global.sign_up_modal.labels.parent_email")}):l.a.createElement(E.a,{_precomputed:Re("fr-FR","E-mail",{},"global.sign_up_modal.labels.email")})),l.a.createElement(he,{inputRef:function(t){e.emailInputRef=t},invalid:this.getInvalidStateForInput(Ce.EMAIL),label:t,name:Ce.EMAIL,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onValidationError:this.handleValidationError,placeholder:Re("fr-FR","utilisateur@quizlet.com","global.sign_up_modal.placeholder_email"),value:this.state.form[Ce.EMAIL],variant:"boxed"})},n.renderPassword=function(){var e=this.state.validationErrorsByInputName[Ce.PASSWORD]||l.a.createElement(E.a,{_precomputed:Re("fr-FR","Mot de passe",{},"global.sign_up_modal.labels.password")});return l.a.createElement(le,{dependency:this.getDependentField(Ce.USERNAME),invalid:this.getInvalidStateForInput(Ce.PASSWORD),label:e,name:Ce.PASSWORD,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onValidationError:this.handleValidationError,placeholder:"●●●●●●●●",value:this.state.form[Ce.PASSWORD],variant:"boxed"})},n.renderSelfIdentifiedUserTypeCheckbox=function(){return l.a.createElement(be,{checked:this.state.form[Ce.SELF_IDENTIFIED_USER_TYPE]===""+d.fb.TEACHER,name:Ce.SELF_IDENTIFIED_USER_TYPE,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onValidationError:this.handleValidationError,value:""+d.fb.TEACHER})},n.renderTOS=function(){return l.a.createElement(_e,{checked:this.state.form[Ce.TERMS_OF_SERVICE],invalid:this.getInvalidStateForInput(Ce.TERMS_OF_SERVICE),name:Ce.TERMS_OF_SERVICE,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onValidationError:this.handleValidationError})},n.renderBelowForm=function(){return l.a.createElement("div",{className:"SignupWithEmailForm-belowForm"},l.a.createElement(v.a,{className:"SignupWithEmailForm-alreadyHaveAccount"},l.a.createElement("span",{className:"SignupWithEmailForm-loginMessage"},l.a.createElement(E.a,{_precomputed:Re("fr-FR","Vous avez déjà un compte ?",{},"global.sign_up_modal.already_have_account")})," ",l.a.createElement(D.a,{onClick:this.props.onOpenLogin},l.a.createElement(E.a,{_precomputed:Re("fr-FR","Connectez-vous",{},"global.sign_up_modal.log_in_link")})))),l.a.createElement(v.a,null,l.a.createElement("div",{className:"SignupWithEmailForm-privacyDescription"},l.a.createElement(E.a,{_precomputed:Re("fr-FR","Quizlet ne vendra <strong>jamais</strong> votre adresse e-mail à des tiers.",{},"signup.logged_out.never_sell_email")})," ",l.a.createElement(E.a,{_precomputed:Re("fr-FR","Nous <strong>détestons le spam</strong> autant que vous.",{},"signup.logged_out.hate_spam")}))))},n.render=function(){return l.a.createElement("form",{className:"SignupWithEmailForm",onSubmit:this.handleSubmit},this.renderBirthday(),this.renderUsername(),this.shouldRenderEmail()?this.renderEmail():null,this.shouldRenderPassword()?this.renderPassword():null,this.shouldRenderSelfIdentifiedUserType()?this.renderSelfIdentifiedUserTypeCheckbox():null,this.shouldRenderTOS()?this.renderTOS():null,this.shouldRenderValidationErrors()?this.renderValidationErrors():null,l.a.createElement(k.a,{disabled:!this.getIsFormComplete(),loading:this.state.isSubmitting,type:"submit",width:"fill"},l.a.createElement(E.a,{_precomputed:Re("fr-FR","S'inscrire",{},"global.sign_up_modal.button_text")})),this.shouldRenderBelowForm()?this.renderBelowForm():null)},n.resetSelfIdentifiedUserTypeIfAgeIsOutsideOfRange=function(){if(!this.shouldRenderSelfIdentifiedUserType()){var e,t=r()({},this.state.form,((e={})[Ce.SELF_IDENTIFIED_USER_TYPE]=""+d.fb.UNKNOWN,e));this.setState({form:t})}},n.shouldRenderValidationErrors=function(){return this.state.validationErrorsByInputName[Oe]&&this.state.validationErrorsByInputName[Oe].length},n.shouldValidateTOS=function(){return"us"!==q.a.countryCode},n.shouldRenderEmail=function(){return!this.props.forOauth||this.getIsUnderage()},n.shouldRenderPassword=function(){return!this.props.forOauth},n.shouldRenderTOS=function(){return!this.props.forOauth},n.shouldRenderBelowForm=function(){return!this.props.forOauth},n.shouldRenderRealNameWarning=function(){return this.getIsUnderage()},n.shouldRenderSelfIdentifiedUserType=function(){var e=this.getAge();return e>=q.a.lowerTeacherAgeBound&&e<=q.a.upperTeacherAgeBound},n.shouldNotRedirectToUpsell=function(){return Object(p.o)()||!!this.props.signupOrigin&&Be.NO_REDIRECT_TO_UPSELL.includes(this.props.signupOrigin)},t}(l.a.Component);Ue.defaultProps={forOauth:!1}},UQ0i:function(e,t,n){"use strict";n.r(t);var a=n("pVnL"),r=n.n(a),o=n("VbXa"),i=n.n(o),s=n("q1tI"),l=n.n(s),u=n("TAwQ"),d=n("dxfC"),p=n("zK28"),c=n("T3U7"),m=n("xvNY"),h=n("13SJ"),g=n("xNal"),f=n("og3H"),E=1/24/2,v="facebook.com";function _(e){return null===g.c.read(f.m.SIGNUP__HIDE_FB_BUTTON)&&g.c.write(f.m.SIGNUP__HIDE_FB_BUTTON,e,{duration:E}),"1"===e}var I=n("Nxgj"),b=n("78K5"),S=n("dHOp"),R=n("Pxp3"),O=n("OpqZ"),N=n("S41V"),T=n("mGzj"),y=n("t1Ez"),F=n("bBvF").default,C=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var n=t.prototype;return n.renderFacebookLoginButton=function(){return l.a.createElement(b.a,{facebookLoginUrl:Object(S.a)(this.props.socialLoginParams),label:F("fr-FR","Continuer avec Facebook","global.sign_up_modal.sign_up_cta.continue_with_facebook"),variant:"small"})},n.renderGoogleLoginButton=function(){return l.a.createElement(I.a,{googleLoginUrl:Object(S.b)(this.props.socialLoginParams),label:F("fr-FR","Continuer avec Google","global.sign_up_modal.sign_up_cta.continue_with_google"),variant:"small"})},n.renderFacebookButtonColumn=function(){return l.a.createElement(N.a,{width:.5},this.renderFacebookLoginButton())},n.render=function(){return l.a.createElement(R.a,{className:"SignupWithCtas"},l.a.createElement(R.a,{key:"primaryCtas"},this.props.message?l.a.createElement(R.a,{className:"SignupWithCtas-message"},this.props.message):null,l.a.createElement(O.a,null,l.a.createElement(N.a,{width:this.props.shouldRenderFacebookLoginButton?.5:1},this.renderGoogleLoginButton()),this.props.shouldRenderFacebookLoginButton?this.renderFacebookButtonColumn():null)),l.a.createElement(T.a,{key:"divider"},l.a.createElement(y.a,{_precomputed:F("fr-FR","OU AVEC VOTRE E-MAIL",{},"global.sign_up_modal.email_divider_label")})))},t}(l.a.PureComponent),B=n("Qyje"),A=n.n(B);n.d(t,"default",function(){return U});var U=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleClose=function(){n.props.actions&&n.props.actions.onClose&&!n.getIsContinuingOauth()&&n.props.actions.onClose()},n.handleOpenLogin=function(){n.props.actions&&n.props.actions.onOpenLogin?n.props.actions.onOpenLogin():QWait("Quizlet.loginModal",function(){return p.a.openLoginModal()})},n.state={hideFbButton:!1},n}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.isOpen&&(Object(c.a)("sign_up_modal_opened"),Object(m.o)()),function(){try{var e=g.c.read(f.m.SIGNUP__HIDE_FB_BUTTON);return null!==e?Promise.resolve("1"===e):Object(h.a)("https://"+v).then(function(){return _("0")}).catch(function(){return _("1")})}catch(t){return Promise.resolve(!1)}}().then(function(t){e.setState({hideFbButton:t})})},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&(Object(c.a)("sign_up_modal_opened"),Object(m.o)())},n.getScreenName=function(){var e=A.a.parse(location.search);return e.screenName?e.screenName:p.a.actionString},n.getSocialLoginParams=function(){return this.props.signupOrigin?{customParams:{screenName:this.getScreenName(),signupOrigin:this.props.signupOrigin},redirect:this.props.redir}:{}},n.getIsContinuingOauth=function(){return this.props.signupFormData&&this.props.signupFormData.forOauth},n.getIncludeCloseButton=function(){return this.props.includeCloseButton&&!this.getIsContinuingOauth()},n.renderCtas=function(){return l.a.createElement(C,{message:this.props.message,shouldRenderFacebookLoginButton:this.shouldRenderFacebookLoginButton(),socialLoginParams:this.getSocialLoginParams()})},n.renderSignupForm=function(){return l.a.createElement(u.a,r()({couponCode:this.props.couponCode,redir:this.props.redir,screenName:this.getScreenName(),signupMetadata:this.props.signupMetadata,signupOrigin:this.props.signupOrigin},this.props.signupFormData,{onOpenLogin:this.handleOpenLogin}))},n.render=function(){return l.a.createElement("div",{className:"SignupPromptModalNew"},l.a.createElement(d.a,{headerContent:this.props.header,headerContentSize:this.props.header?4:3,headerContentVariant:this.props.header?"thin":null,includeCloseButton:this.getIncludeCloseButton(),isOpen:this.props.isOpen,onClose:this.handleClose,preventCloseOnOverlayClick:this.props.preventCloseOnOverlayClick},this.getIsContinuingOauth()?null:this.renderCtas(),this.renderSignupForm()))},n.shouldRenderFacebookLoginButton=function(){return!this.state.hideFbButton},t}(l.a.PureComponent);U.defaultProps={includeCloseButton:!0}},WjpJ:function(e,t,n){var a=n("HLqC")();e.exports=a},ZCgT:function(e,t,n){var a=n("tLB3"),r=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=a(e))===r||e===-r?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},aniC:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("o0o1"),r=n.n(a),o=n("yXPU"),i=n.n(o),s=n("VbXa"),l=n.n(s),u=function(e){function t(){return e.apply(this,arguments)||this}return l()(t,e),t.validate=function(){var e=i()(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get({email:n});case 2:return a=e.sent,e.abrupt("return",a[0].data.validateEmail);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t}(n("SQJ4").a);u.URL_BASE="validate-email",u.API_VERSION="3.3",u.ALLOW_MULTIPLE_REQUESTS=!1},bBuN:function(e,t,n){"use strict";function a(e,t,n){var a=t-1;if(Number.isNaN(a)||Number.isNaN(e)||Number.isNaN(n)||-1===t||-1===e||-1===n)return 1/0;var r=new Date,o=new Date(e,a,n),i=r.getFullYear()-o.getFullYear(),s=r.getMonth()-o.getMonth();return(s<0||0===s&&r.getDate()<o.getDate())&&i--,i}n.d(t,"a",function(){return a})},dHOp:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var a=n("pVnL"),r=n.n(a),o="google-oauth-redirector",i="fb-oauth-redirector";function s(e){var t=e.oauthRedirectorUri,n=e.redirect,a=void 0===n?null:n,o=e.reauthenticate,i=void 0!==o&&o,s=e.customParams,l=void 0===s?{}:s,u=a;null===u&&(u=window.location.pathname+window.location.search);var d,p={from:u};return i&&(p=r()({},p,{reauthenticate:"1"})),l&&(p=r()({},p,{customParams:JSON.stringify(l)})),"/"+t+"?"+(d=p,Object.keys(d).map(function(e){return[e,d[e]].map(encodeURIComponent).join("=")}).join("&"))}function l(e){var t=e.redirect,n=void 0===t?null:t,a=e.reauthenticate,r=void 0!==a&&a,i=e.customParams;return s({oauthRedirectorUri:o,redirect:n,reauthenticate:r,customParams:void 0===i?{}:i})}function u(e){var t=e.redirect,n=void 0===t?null:t,a=e.reauthenticate,r=void 0!==a&&a,o=e.customParams;return s({oauthRedirectorUri:i,redirect:n,reauthenticate:r,customParams:void 0===o?{}:o})}},gTWh:function(e,t,n){"use strict";n.r(t);var a=n("pn57"),r=n("Vg22"),o=n("FdmV"),i=n("YDJX"),s=n("S40T"),l=n("X890"),u=n("Ri2w"),d=n("LkIj"),p=n("9WHe"),c=n("fdo3"),m=n("bBvF").default,h=Object(i.createAction)(l.a.CHANGE_INPUT),g=Object(i.createAction)(l.a.RESET_SUBMISSION),f=Object(i.createAction)(l.a.SUBMIT_FORM_ASYNC__FAILURE),E=Object(i.createAction)(l.a.SUBMIT_FORM),v=function(e){return function(t,n){var a=n().get("login");t(E()),Object(u.f)(e,Object(d.a)(a)).then(function(e){e.success?Object(c.a)(e.path):(t(f(e.errors||[])),window.setTimeout(function(){return t(g())},a.get("numFailedAttempts")*l.b))}).catch(function(e){var n;n=e.name===u.a.name?m("fr-FR","Désolés, quelque chose s'est mal passé. Veuillez réessayer.","errors.auth.ajax_error"):e.message===u.b||e.error&&e.error.code===s.Http.TooManyRequests?m("fr-FR","Nous avons détecté un nombre inhabituel de tentatives de connexion provenant de votre domaine. Veuillez réessayer dans quelques minutes.","errors.auth.login_attempts_above_rate_limit"):"number"==typeof e.timeout?m("fr-FR","Votre recherche n'a pu être effectuée. Veuillez réessayer.","errors.auth.ajax_timeout"):m("fr-FR","Désolés, quelque chose s'est mal passé. Veuillez réessayer.","errors.auth.ajax_error"),window.setTimeout(function(){t(g())},a.get("numFailedAttempts")*l.b),t(f([{type:l.c,message:n}])),p.a.error("login_form_generic_error",e)})}},_=n("VbXa"),I=n.n(_),b=n("q1tI"),S=n.n(b),R=n("78K5"),O=n("Nxgj"),N=n("t1Ez"),T=n("S41V"),y=n("Pxp3"),F=n("vlgG"),C=n("a08m"),B=n("ZlgO"),A=n("fkqS"),U=n("E/Xc"),k=n("dxfC"),D=n("DLQF"),L=n("OpqZ"),P=n("rpuy"),V=n("dHOp"),w=n("zK28"),M=n("bBvF").default,H=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleSubmit=function(e){e.preventDefault(),n.props.actions.onSubmit(n.getLoginUrl())},n.handleInputChange=function(e){n.props.actions.onChange(e.target)},t.username&&t.actions.onChange({name:l.d.USERNAME,value:t.username}),n}I()(t,e);var n=t.prototype;return n.getLoginUrl=function(){return"/login?redir="+encodeURIComponent(this.props.redir)},n.renderBelowForm=function(){return S.a.createElement(L.a,null,S.a.createElement(T.a,{width:.5},S.a.createElement("div",{className:"LoginPromptModal-logoutReminder"},S.a.createElement(P.a,null,S.a.createElement(N.a,{_precomputed:M("fr-FR","N'oubliez pas de vous déconnecter sur les appareils que d'autres personnes peuvent utiliser.",{},"global.login_modal.remember_to_log_out")})))),S.a.createElement(T.a,{width:.5},this.props.onOpenMagicLink&&S.a.createElement("div",{className:"LoginPromptModal-magicLinkWrapper"},S.a.createElement(L.a,null,S.a.createElement(C.a,{onClick:this.props.onOpenMagicLink},S.a.createElement(N.a,{_precomputed:M("fr-FR","Demander un lien magique",{},"global.login_modal.magic_link_button")}))))))},n.renderLoginForm=function(){var e=this.props.validationErrorsByInputName.get(l.d.USERNAME)||S.a.createElement(N.a,{_precomputed:M("fr-FR","NOM D'UTILISATEUR",{},"global.login_modal.login_form.username_label")}),t=this.props.validationErrorsByInputName.get(l.d.PASSWORD)||S.a.createElement(N.a,{_precomputed:M("fr-FR","MOT DE PASSE",{},"global.login_modal.login_form.password_label")});return S.a.createElement("form",{action:this.getLoginUrl(),className:"LoginPromptModal-form",method:"post",onSubmit:this.handleSubmit},this.props.hasGenericValidationErrors?S.a.createElement(L.a,null,this.renderValidationErrors()):null,S.a.createElement(L.a,null,S.a.createElement(y.a,{className:"LoginPromptModal-loginFieldsWrapper"},S.a.createElement(F.a,{autoCorrect:"off",autoFocus:!this.props.username,id:"username",invalid:this.props.invalidStateByInputName.get(l.d.USERNAME),label:e,name:l.d.USERNAME,onChange:this.handleInputChange,placeholder:M("fr-FR","Saisir votre nom d'utilisateur","global.login_modal.login_form.username_placeholder"),spellCheck:!1,type:"text",value:this.props.form.get(l.d.USERNAME)}),S.a.createElement(F.a,{autoFocus:!!this.props.username,id:"password",invalid:this.props.invalidStateByInputName.get(l.d.PASSWORD),label:t,labelDetail:S.a.createElement("div",{className:"LoginPromptModal-forgotPasswordLinkWrapper"},S.a.createElement(C.a,{to:"/forgotten"},S.a.createElement(N.a,{_precomputed:M("fr-FR","Vous l'avez oublié ?",{},"global.login_modal.forgot_password_link")}))),name:l.d.PASSWORD,onChange:this.handleInputChange,placeholder:M("fr-FR","Saisir le mot de passe","global.login_modal.login_form.password_placeholder"),type:"password",value:this.props.form.get(l.d.PASSWORD)}))),S.a.createElement(U.a,{hero:!0,loading:this.props.isSubmitting,type:"submit",width:"fill"},S.a.createElement(N.a,{_precomputed:M("fr-FR","Se connecter",{},"global.login_modal.login_form.submit_button")})))},n.renderSignUpCTA=function(){return S.a.createElement("div",{className:"LoginPromptModal-signUpCTAContainer"},S.a.createElement(y.a,{className:"LoginPromptModal-signUpCTA"},S.a.createElement("span",{className:"LoginPromptModal-signUpCTAMessage"},S.a.createElement(N.a,{_precomputed:M("fr-FR","Nouveau sur Quizlet ?",{},"global.login_modal.new_to_quizlet")})," ",S.a.createElement(C.a,{onClick:this.props.onOpenSignup},S.a.createElement(N.a,{_precomputed:M("fr-FR","Créer un compte",{},"global.login_modal.sign_up_cta")})))))},n.renderSocialLoginOptions=function(){return S.a.createElement("div",{className:"LoginPromptModal-socialButtons"},S.a.createElement(L.a,null,S.a.createElement(O.a,{googleLoginUrl:Object(V.b)({customParams:{signupOrigin:"global-signup-modal-google",screenName:w.a.actionString}}),label:M("fr-FR","Se connecter avec Google","global.login_modal.google_button")})),S.a.createElement(L.a,null,S.a.createElement(R.a,{facebookLoginUrl:Object(V.a)({customParams:{signupOrigin:"global-signup-modal-facebook",screenName:w.a.actionString}}),label:M("fr-FR","Se connecter avec Facebook","global.login_modal.facebook_button")})))},n.renderValidationErrors=function(){var e=this.props.validationErrorsByInputName.get(l.c).map(function(e){return S.a.createElement(A.a,{key:e.message},e.message)}).toArray();return S.a.createElement(D.a,{boxed:!0,uppercaseDeprecated:!0,variant:"alert"},S.a.createElement(B.a,null,e))},n.render=function(){return S.a.createElement("div",{className:"LoginPromptModal"},S.a.createElement(k.a,{headerContent:this.props.header,includeCloseButton:this.props.includeCloseButton,isOpen:this.props.isOpen,onClose:this.props.onClose,preventCloseOnOverlayClick:this.props.preventCloseOnOverlayClick},this.renderSocialLoginOptions(),this.renderLoginForm(),this.renderBelowForm(),this.props.onOpenSignup?this.renderSignUpCTA():null))},t}(b.PureComponent);H.defaultProps={header:S.a.createElement(N.a,{_precomputed:M("fr-FR","Connexion",{},"global.login_modal.login_header")}),includeCloseButton:!0,redir:window.location.href};var j=Object(o.a)("login",{form:d.a,hasGenericValidationErrors:d.b,invalidStateByInputName:d.c,isSubmitting:d.e,validationErrorsByInputName:d.d});t.default=Object(r.connect)(j,function(e){return{actions:Object(a.bindActionCreators)({onChange:h,onSubmit:v},e)}})(H)},mGzj:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("VbXa"),r=n.n(a),o=n("q1tI"),i=n.n(o),s=n("TSYQ"),l=n.n(s),u=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,a=t.variant,r=l()("UIDivider-label",((e={})["UIDivider--"+a]="default"!==a,e));return i.a.createElement("div",{className:"UIDivider"},i.a.createElement("div",{className:"UIDivider-separator"},i.a.createElement("hr",{className:"UIDivider-separatorLine"})),i.a.createElement("div",{className:r},n),i.a.createElement("div",{className:"UIDivider-separator"},i.a.createElement("hr",{className:"UIDivider-separatorLine"})))},t}(i.a.PureComponent);u.defaultProps={variant:"default"}},"mv/X":function(e,t,n){var a=n("ljhN"),r=n("MMmD"),o=n("wJg7"),i=n("GoyQ");e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?r(n)&&o(t,n.length):"string"==s&&t in n)&&a(n[t],e)}}}]);
//# sourceMappingURL=login_signup_lazy.3e17d8f3d7f133b.a.fr-fr.js.map